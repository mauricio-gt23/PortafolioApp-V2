// =============================================================================
// TEMA PERSONALIZADO DE ANGULAR MATERIAL
// =============================================================================

@use '@angular/material' as mat;
@import 'variables';

// Desactivar advertencias de duplicación de estilos
// Necesario porque manejamos temas dinámicos con JavaScript
mat.$theme-ignore-duplication-warnings: true;

// Incluir el core de Angular Material
@include mat.core();

// -----------------------------------------------------------------------------
// DEFINICIÓN DE PALETAS PERSONALIZADAS
// -----------------------------------------------------------------------------

// Paleta primaria para tema claro (Crema)
$light-primary-palette: (
   50: $primary-50,
   100: $primary-100,
   200: $primary-200,
   300: $primary-300,
   400: $primary-400,
   500: $primary-500,
   600: $primary-600,
   700: $primary-700,
   800: $primary-800,
   900: $primary-900,
   A100: #fcfcf0,
   A200: #f9f9e1,
   A400: #f6f6c3,
   A700: #dbdbb2,
   contrast: (
      50: $text-primary,
      100: $text-primary,
      200: $text-primary,
      300: $text-primary,
      400: $text-primary,
      500: $text-primary,
      600: $text-primary,
      700: $text-primary,
      800: $text-primary,
      900: $text-primary,
      A100: $text-primary,
      A200: $text-primary,
      A400: $text-primary,
      A700: $text-primary,
   ),
);

// Paleta primaria para tema oscuro (Azul)
$dark-primary-palette: (
   50: $dark-primary-50,
   100: $dark-primary-100,
   200: $dark-primary-200,
   300: $dark-primary-300,
   400: $dark-primary-400,
   500: $dark-primary-500,
   600: $dark-primary-600,
   700: $dark-primary-700,
   800: $dark-primary-800,
   900: $dark-primary-900,
   A100: #e3f2fd,
   A200: #90caf9,
   A400: #42a5f5,
   A700: #1565c0,
   contrast: (
      50: $text-primary,
      100: $text-primary,
      200: $text-primary,
      300: $white,
      400: $white,
      500: $white,
      600: $white,
      700: $white,
      800: $white,
      900: $white,
      A100: $text-primary,
      A200: $text-primary,
      A400: $white,
      A700: $white,
   ),
);

// Paleta secundaria (Gris neutro para ambos temas)
$custom-secondary-palette: (
   50: $secondary-50,
   100: $secondary-100,
   200: $secondary-200,
   300: $secondary-300,
   400: $secondary-400,
   500: $secondary-500,
   600: $secondary-600,
   700: $secondary-700,
   800: $secondary-800,
   900: $secondary-900,
   A100: #f8f9fa,
   A200: #dee2e6,
   A400: #adb5bd,
   A700: #495057,
   contrast: (
      50: $text-primary,
      100: $text-primary,
      200: $text-primary,
      300: $text-primary,
      400: $text-primary,
      500: $white,
      600: $white,
      700: $white,
      800: $white,
      900: $white,
      A100: $text-primary,
      A200: $text-primary,
      A400: $text-primary,
      A700: $white,
   ),
);

// Paleta de advertencia personalizada (Rojo cálido)
$custom-warn-palette: (
   50: #fdf2f2,
   100: #fce4e4,
   200: #f9c9c9,
   300: #f5a3a3,
   400: #f17d7d,
   500: $error,
   600: #b84545,
   700: #a33333,
   800: #8e2222,
   900: #791111,
   A100: #ffb3b3,
   A200: #ff8080,
   A400: #ff1744,
   A700: #d50000,
   contrast: (
      50: $text-primary,
      100: $text-primary,
      200: $text-primary,
      300: $text-primary,
      400: $white,
      500: $white,
      600: $white,
      700: $white,
      800: $white,
      900: $white,
      A100: $text-primary,
      A200: $white,
      A400: $white,
      A700: $white,
   ),
);

// -----------------------------------------------------------------------------
// CONFIGURACIÓN DE TIPOGRAFÍA (COMPARTIDA)
// -----------------------------------------------------------------------------

// Configuración de tipografía reutilizable
$custom-typography: mat.define-typography-config(
   $font-family: $font-family-primary,
   $headline-1: mat.define-typography-level(3.75rem, 1, $font-weight-light),
   $headline-2: mat.define-typography-level(3rem, 1.2, $font-weight-light),
   $headline-3: mat.define-typography-level(2.25rem, 1.2, $font-weight-regular),
   $headline-4: mat.define-typography-level(1.875rem, 1.3, $font-weight-regular),
   $headline-5: mat.define-typography-level(1.5rem, 1.3, $font-weight-regular),
   $headline-6: mat.define-typography-level(1.25rem, 1.4, $font-weight-medium),
   $subtitle-1: mat.define-typography-level(1.125rem, 1.5, $font-weight-regular),
   $subtitle-2: mat.define-typography-level(1rem, 1.5, $font-weight-medium),
   $body-1: mat.define-typography-level(1rem, 1.5, $font-weight-regular),
   $body-2: mat.define-typography-level(0.875rem, 1.5, $font-weight-regular),
   $caption: mat.define-typography-level(0.75rem, 1.4, $font-weight-regular),
   $button: mat.define-typography-level(0.875rem, 1, $font-weight-medium),
   $overline: mat.define-typography-level(0.75rem, 1, $font-weight-medium),
);

// -----------------------------------------------------------------------------
// CREACIÓN DE TEMAS
// -----------------------------------------------------------------------------

// Tema claro
$light-theme: mat.define-light-theme(
   (
      color: (
         primary: mat.define-palette($light-primary-palette),
         accent: mat.define-palette($custom-secondary-palette),
         warn: mat.define-palette($custom-warn-palette),
      ),
      typography: $custom-typography,
      density: 0,
   )
);

// Tema oscuro
$dark-theme: mat.define-dark-theme(
   (
      color: (
         primary: mat.define-palette($dark-primary-palette),
         accent: mat.define-palette($custom-secondary-palette),
         warn: mat.define-palette($custom-warn-palette),
      ),
      typography: $custom-typography,
      density: 0,
   )
);

// -----------------------------------------------------------------------------
// APLICACIÓN DE TEMAS
// -----------------------------------------------------------------------------

// Aplicar estilos base (tipografía y densidad)
@include mat.all-component-typographies($custom-typography);
@include mat.all-component-densities($light-theme);

// Aplicar colores del tema oscuro (sin duplicación)
// Solo usar data-theme para evitar duplicación de estilos
:root[data-theme='dark'] {
   @include mat.all-component-colors($dark-theme);
}

:root[data-theme='light'] {
   @include mat.all-component-colors($light-theme);
}

// -----------------------------------------------------------------------------
// PERSONALIZACIONES ADICIONALES DE COMPONENTES
// -----------------------------------------------------------------------------

// Personalización de botones
.mat-mdc-button {
   border-radius: $border-radius-base !important;
   font-weight: $font-weight-medium !important;
   text-transform: none !important;
   letter-spacing: 0.025em !important;
}

.mat-mdc-raised-button,
.mat-mdc-unelevated-button {
   border-radius: $border-radius-base !important;
   font-weight: $font-weight-medium !important;
   text-transform: none !important;
   letter-spacing: 0.025em !important;
}

.mat-mdc-fab {
   border-radius: $border-radius-xl !important;
}

// Personalización de cards
.mat-mdc-card {
   border-radius: $border-radius-lg !important;
   box-shadow: $shadow-base !important;
   transition: box-shadow $transition-base !important;

   &:hover {
      box-shadow: $shadow-lg !important;
   }
}

// Personalización de inputs
.mat-mdc-form-field {
   .mat-mdc-text-field-wrapper {
      border-radius: $border-radius-base !important;
   }

   .mdc-text-field--outlined {
      .mdc-notched-outline {
         .mdc-notched-outline__leading,
         .mdc-notched-outline__notch,
         .mdc-notched-outline__trailing {
            border-radius: $border-radius-base !important;
         }
      }
   }
}

// Personalización de chips
.mat-mdc-chip {
   border-radius: $border-radius-full !important;
   font-weight: $font-weight-medium !important;
}

// Personalización de tabs
.mat-mdc-tab-group {
   .mat-mdc-tab {
      font-weight: $font-weight-medium !important;
      text-transform: none !important;
   }
}

// Personalización de snackbar
.mat-mdc-snack-bar-container {
   border-radius: $border-radius-base !important;
   box-shadow: $shadow-lg !important;
}

// Personalización de dialog
.mat-mdc-dialog-container {
   border-radius: $border-radius-lg !important;
   box-shadow: $shadow-xl !important;
}

// Personalización de menu
.mat-mdc-menu-panel {
   border-radius: $border-radius-base !important;
   box-shadow: $shadow-lg !important;
}

// Personalización de tooltip
.mat-mdc-tooltip {
   border-radius: $border-radius-base !important;
   font-size: $font-size-sm !important;
   font-weight: $font-weight-medium !important;
}
