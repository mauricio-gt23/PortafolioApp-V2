// =============================================================================
// LAYOUT STANDALONE COMPONENT - ESTILOS ACTUALIZADOS
// =============================================================================

@import '../../../../styles/variables';
@import '../../../../styles/mixins';

// -----------------------------------------------------------------------------
// ESTILOS PARA EL BOTÓN TOGGLE DE TEMA
// -----------------------------------------------------------------------------

.theme-toggle-btn {
   min-width: 48px !important;
   width: 48px !important;
   height: 48px !important;
   border-radius: $border-radius-full !important;
   background-color: rgba(var(--primary-color), 0.1) !important;
   border: 1px solid rgba(var(--primary-color), 0.2) !important;
   color: var(--text-primary) !important;
   transition: all $transition-base !important;
   display: flex !important;
   align-items: center !important;
   justify-content: center !important;

   &:hover {
      background-color: rgba(var(--primary-color), 0.2) !important;
      border-color: rgba(var(--primary-color), 0.4) !important;
      transform: scale(1.1) !important;
      box-shadow: 0 4px 12px rgba(var(--primary-color), 0.3) !important;
   }

   &:focus {
      outline: 1px solid var(--primary-color) !important;
      outline-offset: 0px !important;
   }

   mat-icon {
      font-size: 24px !important;
      width: 24px !important;
      height: 24px !important;
      transition: transform $transition-base !important;
   }

   &:hover mat-icon {
      transform: rotate(180deg) !important;
   }

   // Estilos específicos para tema oscuro
    [data-theme='dark'] & {
       background-color: rgba($dark-primary-500, 0.2) !important;
       border-color: rgba($dark-primary-500, 0.3) !important;
       color: $dark-text-primary !important;

       &:hover {
          background-color: rgba($dark-primary-400, 0.3) !important;
          border-color: rgba($dark-primary-400, 0.5) !important;
          box-shadow: 0 4px 12px rgba($dark-primary-500, 0.4) !important;
       }
    }
}

// Layout Container
.layout-container {
   width: 100vw;
   height: 100vh;
   overflow: hidden;
   position: relative;
   display: flex;
   background-color: var(--background-primary);
   color: var(--text-primary);
}

// Sidebar Wrapper
.sidebar-wrapper {
   position: relative;
   z-index: $z-index-fixed;
   @include smooth-transition(transform);

   @media (max-width: #{$breakpoint-md - 1px}) {
      display: none;
   }
}

// Sidebar Container
.sidebar-container {
   position: fixed;
   top: 0;
   left: 0;
   width: 250px;
   height: 100vh;
   background: linear-gradient(135deg, $primary-500 0%, $primary-700 100%);
   color: $white;
   padding: $spacing-5;
   overflow-y: auto;
   z-index: $z-index-fixed;
   box-shadow: $shadow-lg;
   @include smooth-transition(transform);

   @media (max-width: #{$breakpoint-md - 1px}) {
      display: none;
   }

   // Custom scrollbar
   &::-webkit-scrollbar {
      width: 6px;
   }

   &::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.1);
   }

   &::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.3);
      border-radius: 3px;
   }
}

// Profile Section
.profile-section {
   text-align: center;
   margin-bottom: $spacing-8;
   padding-bottom: $spacing-5;
   border-bottom: 1px solid rgba(255, 255, 255, 0.2);

   .avatar-container {
      margin-bottom: $spacing-4;

      .avatar {
         width: 80px;
         height: 80px;
         border-radius: $border-radius-full;
         border: 3px solid rgba(255, 255, 255, 0.3);
         object-fit: cover;
         @include hover-lift;
         @include smooth-transition(transform, border-color);

         &:hover {
            border-color: rgba(255, 255, 255, 0.6);
         }
      }
   }

   .name {
      margin: $spacing-3 0 $spacing-2 0;
      @include text-xl;
      font-weight: $font-weight-semibold;
      color: $white;
   }

   .title {
      margin: 0;
      @include text-sm;
      color: rgba(255, 255, 255, 0.8);
      font-weight: $font-weight-light;
   }
}

// Section Titles
.section-title {
   @include text-base;
   font-weight: $font-weight-semibold;
   margin-bottom: $spacing-4;
   color: rgba(255, 255, 255, 0.9);
   text-transform: uppercase;
   letter-spacing: 0.5px;
}

// Contact Section
.contact-section {
   margin-bottom: $spacing-8;

   .contact-item {
      display: flex;
      align-items: center;
      margin-bottom: $spacing-3;
      padding: $spacing-2;
      border-radius: $border-radius-md;
      @include smooth-transition(background-color);
      @include focus-visible;

      &:hover {
         background-color: rgba(255, 255, 255, 0.1);
      }

      mat-icon {
         margin-right: $spacing-3;
         font-size: 18px;
         width: 18px;
         height: 18px;
         color: rgba(255, 255, 255, 0.8);
      }

      span {
         @include text-sm;
         color: rgba(255, 255, 255, 0.9);
         word-break: break-word;
      }
   }
}

// Social Section
.social-section {
   margin-bottom: $spacing-8;

   .social-links {
      display: flex;
      flex-direction: column;
      gap: $spacing-2;

      .social-link {
         display: flex;
         align-items: center;
         padding: $spacing-3;
         border-radius: $border-radius-md;
         @include smooth-transition(background-color, transform);
         @include focus-visible;
         text-decoration: none;
         color: inherit;

         &:hover {
            background-color: rgba(255, 255, 255, 0.1);
            transform: translateX(4px);
            text-decoration: none;
         }
         mat-icon {
            margin-right: $spacing-3;
            font-size: 18px;
            width: 18px;
            height: 18px;
         }

         span {
            @include text-sm;
            font-weight: $font-weight-medium;
         }
      }
   }
}

// Actions Section
.actions-section {
   .action-btn {
      width: 100%;
      margin-bottom: $spacing-3;
      @include text-sm;
      padding: $spacing-3;
      border-radius: $border-radius-lg;
      @include smooth-transition(background-color, transform);
      @include focus-visible;

      &:hover {
         @include hover-lift;
      }

      mat-icon {
         margin-right: $spacing-2;
         font-size: 16px;
         width: 16px;
         height: 16px;
      }
   }
}

// Main Content
.main-content {
   flex: 1;
   display: flex;
   flex-direction: column;
   margin-left: 250px;
   width: calc(100vw - 250px);
   height: 100vh;
   overflow: hidden;
   background-color: var(--background-primary);
   color: var(--text-primary);

   @media (max-width: #{$breakpoint-md - 1px}) {
      margin-left: 0;
      width: 100vw;
   }
}

// Navbar Container
.navbar-container {
   position: fixed;
   top: 0;
   left: 250px;
   right: 0;
   z-index: $z-index-sticky;
   background-color: $primary-600;
   color: $white;
   height: 64px;
   box-shadow: $shadow-md;
   @include smooth-transition(left, background-color);
   overflow: hidden;

   @media (max-width: #{$breakpoint-md - 1px}) {
      left: 0;
   }

   .container-fluid {
      height: 100%;
      padding: 0 $spacing-5;
      max-width: none;
   }

   .row {
      height: 100%;
      margin: 0;
   }

   .brand-section {
      width: 100%;
      gap: $spacing-2;
      
      @media (max-width: #{$breakpoint-md - 1px}) {
         justify-content: center !important;
         margin-bottom: $spacing-2;
      }
   }

   .navbar-brand {
      @include text-xl;
      font-weight: $font-weight-semibold;
      color: $white;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      line-height: 1.2;
      display: block;

      @media (max-width: #{$breakpoint-md - 1px}) {
         @include text-lg;
      }

      @media (max-width: #{$breakpoint-sm - 1px}) {
         @include text-base;
      }
   }

   .navbar-nav {
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;

      .d-flex {
         width: 100%;
         flex-wrap: nowrap;
         align-items: center;
      }
   }

   .nav-link-btn {
      color: $white !important;
      border-radius: $border-radius-lg;
      padding: $spacing-2 $spacing-4;
      @include smooth-transition(background-color, transform);
      @include focus-visible;
      min-width: auto;
      margin: 0 $spacing-1;
      @include text-base;
      white-space: nowrap;

      &:hover {
         background-color: rgba(255, 255, 255, 0.1);
         transform: translateY(-1px);
      }

      &.active-link {
         background-color: rgba(255, 255, 255, 0.2);
         font-weight: $font-weight-semibold;
      }

      mat-icon {
         font-size: 18px;
         width: 18px;
         height: 18px;
         margin-right: $spacing-2;
      }

      span {
         @include text-base;
      }
   }
}

// Page Content
.page-content {
   flex: 1;
   overflow-y: auto;
   overflow-x: hidden;
   margin-top: 40px;
   height: calc(100vh - 40px);
   background-color: var(--background-secondary);
   @include custom-scrollbar;
}

// Content Container
.content-container {
   padding: $spacing-5;
   min-height: calc(100vh - 64px - #{$spacing-10});
   max-width: 1200px;
   margin: 0 auto;
   width: 100%;
}

// Responsive Design
@media (max-width: #{$breakpoint-md - 1px}) {
   .navbar-container {
      left: 0;
      height: auto;
      min-height: 64px;

      .container-fluid {
         padding: $spacing-2 $spacing-3;
      }

      .row {
         flex-direction: column;
         align-items: center;
      }

      .navbar-brand {
         @include text-lg;
         font-weight: $font-weight-bold;
      }
   }

   .main-content {
      margin-left: 0;
      width: 100vw;
   }

   .content-container {
      padding: $spacing-4;
   }

   .page-content {
      margin-top: 80px;
   }
}

@media (max-width: #{$breakpoint-sm - 1px}) {
   .sidebar-container {
      width: 280px;
      padding: $spacing-4;

      .profile-section {
         .avatar {
            width: 70px;
            height: 70px;
         }

         .name {
            @include text-lg;
         }
      }

      .contact-item,
      .social-link {
         padding: $spacing-2;

         span {
            @include text-xs;
         }
      }
   }

   .content-container {
      padding: $spacing-3;
   }

   .page-content {
      margin-top: 80px;
      height: calc(100vh - 80px);
   }

   .navbar-container {
      height: auto;
      min-height: 80px;

      .container-fluid {
         padding: $spacing-2;
      }

      .row {
         flex-direction: column;
         align-items: center;
      }

      .nav-link-btn {
         padding: $spacing-2 $spacing-3;
         @include text-xs;

         .nav-icon {
            font-size: 20px;
            width: 20px;
            height: 20px;
         }
      }
   }
}

// Extra small screens
@media (max-width: 480px) {
   .navbar-container {
      min-height: 90px;

      .container-fluid {
         padding: $spacing-1;
      }

      .nav-link-btn {
         padding: $spacing-2 $spacing-2;

         .nav-icon {
            font-size: 24px;
            width: 24px;
            height: 24px;
         }
      }
   }
}

// Medium screens adjustments
@media (max-width: #{$breakpoint-lg - 1px}) and (min-width: #{$breakpoint-sm}) {
   .navbar-container {
      .nav-link-btn {
         padding: $spacing-1 $spacing-2;
         @include text-sm;

         span {
            @include text-sm;
         }
      }
   }
}

// Layout transitions
.main-content,
.navbar-container {
   @include smooth-transition(all);
}
