<div class="contact-container" [@fadeIn]>
  <div class="container">
    <div class="contact-header" [@slideInLeft]>
      <h1 class="title">Contact</h1>
    </div>
    
    <div class="contact-content">
      <div class="contact-card" [@scaleIn]>
        <div class="card-decoration">
          <div class="decoration-circle"></div>
          <div class="decoration-line"></div>
        </div>
        
        <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="contact-form">
          <!-- Email Field -->
          <div class="form-group">
            <label for="email_id">Email</label>
            <input 
              type="email" 
              id="email_id" 
              formControlName="email_id" 
              placeholder="your@email.com"
              [ngClass]="{'invalid': hasError('email_id', 'required') || hasError('email_id', 'email')}"
            >
            <div class="error-message" *ngIf="hasError('email_id', 'required')">
              Email is required
            </div>
            <div class="error-message" *ngIf="hasError('email_id', 'email')">
              Please enter a valid email
            </div>
          </div>
          
          <!-- Subject Field -->
          <div class="form-group">
            <label for="subject">Subject</label>
            <input 
              type="text" 
              id="subject" 
              formControlName="subject" 
              placeholder="Message subject"
              [ngClass]="{'invalid': hasError('subject', 'required') || hasError('subject', 'minlength')}"
            >
            <div class="error-message" *ngIf="hasError('subject', 'required')">
              Subject is required
            </div>
            <div class="error-message" *ngIf="hasError('subject', 'minlength')">
              Subject must be at least 3 characters
            </div>
          </div>
          
          <!-- Message Field -->
          <div class="form-group">
            <label for="message">Message</label>
            <textarea 
              id="message" 
              formControlName="message" 
              rows="6" 
              placeholder="Write your message here..."
              [ngClass]="{'invalid': hasError('message', 'required') || hasError('message', 'minlength')}"
            ></textarea>
            <div class="error-message" *ngIf="hasError('message', 'required')">
              Message is required
            </div>
            <div class="error-message" *ngIf="hasError('message', 'minlength')">
              Message must be at least 10 characters
            </div>
          </div>
          
          <!-- Form Actions -->
          <div class="form-actions">
            <button 
              type="submit" 
              class="submit-button" 
              [disabled]="isSubmitting"
            >
              <div class="button-content">
                <span>{{ !isSubmitting ? 'Send message' : 'Sending...' }}</span>
                <mat-icon>send</mat-icon>
              </div>
            </button>
          </div>
          
          <!-- Form Status Messages -->
          <div class="form-feedback">
            <div *ngIf="submitSuccess" class="success-message">
              <div class="message-content">
                <mat-icon>check_circle</mat-icon>
                <div class="message-text">
                  <p>Message sent successfully!</p>
                  <p>Thank you for contacting me.</p>
                </div>
              </div>
            </div>
            
            <div *ngIf="submitError" class="error-message">
              <div class="message-content">
                <mat-icon>error</mat-icon>
                <div class="message-text">
                  <p>An error occurred while sending the message.</p>
                  <p>Please try again.</p>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>